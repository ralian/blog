# The Case for a Runtime Site Generator

I am a big fan of the idea behind Justin Jackson's "[This is a Web Page](https://justinjackson.ca/words.html)." It's very brief and well-written. I highly recommend that you read it, but it can be summarized as follows: As a web designer or developer, the content you serve is more important than visual fluff - images, styling, ads, etc. - and the latter do nothing other than slow your webpage down.

While I agree with this idea wholeheartedly, I would point out that sometimes, stylistic choices are necessary in order to convey some types of content. I could tell you, for instance, the relation in Relativity between Energy, Momentum, Rest mass, and the Speed of Light: The square of the total energy E is equal to the sum of the squares of Momentum and the Speed of Light, with the Rest Mass and the speed of light squared.

However, this is a bit difficult to lexically parse; for that problem, we have equations. And to render equations in a webpage, we have MathJax.
$$
E^2 = (pc)^2 + (m_0 c^2)^2
$$
Much nicer.

Rendering for MathJax is done on the client, which enables its use in static web pages - pages like this, where the root web page is merely served as a file rather than generated by the server from a request.

As a web site grows, however, editing pages as raw HTML becomes less and less practical. Once you hit this point, you can go one of two routes to reduce the complexity: Either use a Content Management Service or a Static Site Generator.

## Content Management Services

The Content Management Service (CMS), broadly speaking, is a service which couples web requests to a database and responds with dynamically generated content. CMSes are incredibly powerful and allow you not just to view content but to create and manage it from a client's web browser. They can take away the technical skill required to manage a website, which can be a good thing sometimes; not everyone that needs a website for their product or community has experience with web development or server administration. However, CMSes come with a number of drawbacks:

- They require more setup than a simple static site, as they need at a minimum a compatible database along with permissions and at least one user configured for the CMS.
- If you do this configuration incorrectly, or if there is a vulnerability in your CMS, you risk an attacker gaining control over your CMS.
- In practical terms, they require more resources than a static site, and can be more expensive to host.

If the design requirements are such that you want clients to be able to upload custom content, you *must* use a CMS. Accepting and storing dynamic content is something that requires the database coupling and dynamic pages that CMSes provide.

## Static Site Generators

With all this in mind, CMSes aren't right for every application. For instance, if you need a site to hold documentation for some software, some of the features of a CMS don't even make sense for your purpose. You don't need users to log in and create dynamic content like comments on the documentation pages, and setting up a CMS just for this purpose makes little sense.

In order to generate static HTML pages without having to write and edit raw HTML, there are a plethora of Static Site Generators that will take input (usually a markup language like Markdown) and convert the input into a static html/css site following layout and styling rules decided by the SSG.

I can't honestly think of too many drawbacks to a SSG. These generators are very simple, and are kind of 'fire and forget' once run. You don't have to worry about moderating content after it's generated, and the only vulnerabilities you have to worry about are potential ones in the web server you use, which are generally more rare than vulnerabilities in CMSes.

There is, however, one tiny inconvenience: 

- Editing any part of the site, however small, requires you to regenerate the site with the generator.

This isn't much of an issue at all, but because everything isn't self contained in the webroot like with a true static site, it's possible to misplace your configuration files / source files / other SSG input. At the very least, you might have to set your tooling back up to generate the site if you're doing it from a new machine.

## Runtime Site Generator

What is this website?

Well, it's more akin to a SSG, in that I am writing the articles you read with a Markdown editor, and the site gets generated from this input markdown, but it's not statically generated. Instead, the dynamic content is generated by your browser. The main burden with this is parsing the markdown to HTML, which is done by [Showdown.js](https://showdownjs.com/).

I simply upload each article to the site as markdown, and provide the path and metadata about each article in a manifest file (located [here](articles/manifest.json) if you want to view the raw manifest.)

This approach offers unique advantages:

- Unlike a SSG, I don't have to run any generation software. I just upload a new article as Markdown, and add it to the manifest.
- Runtime site generation offers the same security as a static site, unlike a CMS.
- Like a SSG and unlike a CMS, moving the site only requires moving the files in the webroot. Because the generation is dynamic, there is no need to set up the SSG when building the site on a new machine.

As with any approach, it also has disadvantages:

- This requires the client to have Javascript enabled, unlike a SSG (and *some* CMSes)
- The source (Markdown) content is fetched after the webpage loads. Although the total amount of data sent is still quite low, this may make the site appear slower than a SSG or well-optimized CMS; but, it is still much faster than a poorly optimized/configured CMS.

I hope you find this interesting. The site itself is, of course, open source - feel free to dig through it, and maybe use the ideas within for yourself if you like it.

I'm not sure what application this has beyond an interesting toy, and hosting my blog.

